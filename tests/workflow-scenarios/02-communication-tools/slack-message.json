{
  "name": "Slack - Send Message Test",
  "description": "Test sending messages to Slack channel",
  "category": "communication-tools",
  "workflow": {
    "nodes": [
      {
        "id": "start_1",
        "type": "start",
        "position": { "x": 100, "y": 100 },
        "data": {
          "label": "Start"
        }
      },
      {
        "id": "slack_1",
        "type": "tool",
        "position": { "x": 300, "y": 100 },
        "data": {
          "label": "Send Slack Message",
          "tool_id": "slack",
          "parameters": {
            "action": "send_message",
            "channel": "#general",
            "message": "ðŸ¤– Workflow Test: {{input.message}}\n\nTimestamp: {{context.timestamp}}",
            "bot_token": "${SLACK_BOT_TOKEN}"
          }
        }
      },
      {
        "id": "end_1",
        "type": "end",
        "position": { "x": 500, "y": 100 },
        "data": {
          "label": "End"
        }
      }
    ],
    "edges": [
      {
        "id": "e1",
        "source": "start_1",
        "target": "slack_1"
      },
      {
        "id": "e2",
        "source": "slack_1",
        "target": "end_1"
      }
    ]
  },
  "test_cases": [
    {
      "name": "Simple message",
      "input": {
        "message": "Hello from workflow test!"
      },
      "expected_output": {
        "status": "success",
        "message_sent": true
      }
    },
    {
      "name": "Message with emoji",
      "input": {
        "message": "Test with emoji ðŸŽ‰ ðŸš€ âœ¨"
      },
      "expected_output": {
        "status": "success",
        "message_sent": true
      }
    }
  ],
  "assertions": [
    {
      "type": "response_time",
      "max_seconds": 5
    },
    {
      "type": "no_errors"
    },
    {
      "type": "slack_message_delivered"
    }
  ],
  "prerequisites": [
    "SLACK_BOT_TOKEN environment variable must be set",
    "Bot must have access to #general channel"
  ]
}
