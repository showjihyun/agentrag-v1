{
  "name": "Gmail - Send Email Test",
  "description": "Test sending emails via Gmail",
  "category": "communication-tools",
  "workflow": {
    "nodes": [
      {
        "id": "start_1",
        "type": "start",
        "position": { "x": 100, "y": 100 },
        "data": {
          "label": "Start"
        }
      },
      {
        "id": "gmail_1",
        "type": "tool",
        "position": { "x": 300, "y": 100 },
        "data": {
          "label": "Send Email",
          "tool_id": "gmail",
          "parameters": {
            "action": "send_email",
            "to": "{{input.recipient}}",
            "subject": "Workflow Test: {{input.subject}}",
            "body": "<h1>Test Email</h1><p>{{input.message}}</p>",
            "body_type": "html"
          }
        }
      },
      {
        "id": "end_1",
        "type": "end",
        "position": { "x": 500, "y": 100 },
        "data": {
          "label": "End"
        }
      }
    ],
    "edges": [
      {
        "id": "e1",
        "source": "start_1",
        "target": "gmail_1"
      },
      {
        "id": "e2",
        "source": "gmail_1",
        "target": "end_1"
      }
    ]
  },
  "test_cases": [
    {
      "name": "Send test email",
      "input": {
        "recipient": "test@example.com",
        "subject": "Automated Test",
        "message": "This is an automated test email from the workflow system."
      },
      "expected_output": {
        "status": "success",
        "email_sent": true
      }
    }
  ],
  "assertions": [
    {
      "type": "response_time",
      "max_seconds": 5
    },
    {
      "type": "no_errors"
    }
  ],
  "prerequisites": [
    "Gmail API credentials must be configured"
  ]
}
