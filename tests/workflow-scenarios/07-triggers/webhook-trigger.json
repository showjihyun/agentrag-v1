{
  "name": "Webhook Trigger - HTTP Webhook Test",
  "description": "Test webhook trigger receiving HTTP POST requests",
  "category": "triggers",
  "workflow": {
    "nodes": [
      {
        "id": "trigger_1",
        "type": "webhook_trigger",
        "position": { "x": 100, "y": 100 },
        "data": {
          "label": "Webhook Receiver",
          "parameters": {
            "webhook_id": "test_webhook_001",
            "path": "/webhook"
          }
        }
      },
      {
        "id": "python_1",
        "type": "tool",
        "position": { "x": 300, "y": 100 },
        "data": {
          "label": "Process Webhook Data",
          "tool_id": "python_code",
          "parameters": {
            "code": "webhook_data = input.get('webhook', {})\nreturn {\n    'received': True,\n    'body': webhook_data.get('body'),\n    'headers': webhook_data.get('headers'),\n    'processed_at': 'timestamp'\n}"
          }
        }
      },
      {
        "id": "end_1",
        "type": "end",
        "position": { "x": 500, "y": 100 },
        "data": {
          "label": "End"
        }
      }
    ],
    "edges": [
      {
        "id": "e1",
        "source": "trigger_1",
        "target": "python_1"
      },
      {
        "id": "e2",
        "source": "python_1",
        "target": "end_1"
      }
    ]
  },
  "test_cases": [
    {
      "name": "Webhook with JSON payload",
      "input": {
        "webhook": {
          "body": {
            "event": "test",
            "data": {
              "key": "value"
            }
          },
          "headers": {
            "Content-Type": "application/json"
          }
        }
      },
      "expected_output": {
        "received": true,
        "body": {
          "event": "test"
        }
      }
    }
  ],
  "assertions": [
    {
      "type": "trigger_registered"
    },
    {
      "type": "webhook_url_generated"
    },
    {
      "type": "no_errors"
    }
  ]
}
